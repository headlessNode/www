<h1 id="fibonacci-polynomial">Fibonacci Polynomial</h1><blockquote><p>Evaluate a <a href="https://en.wikipedia.org/wiki/Fibonacci_polynomials">Fibonacci polynomial</a>.</p></blockquote><section class="intro"><p>A <a href="https://en.wikipedia.org/wiki/Fibonacci_polynomials">Fibonacci polynomial</a> is expressed according to the following recurrence relation</p><div class="equation" align="center" data-raw-text="F_n(x) = \begin{cases}0 &#x26; \textrm{if}\ n = 0\\1 &#x26; \textrm{if}\ n = 1\\x \cdot F_{n-1}(x) + F_{n-2}(x) &#x26; \textrm{if}\ n \geq 2\end{cases}" data-equation="eq:fibonacci_polynomial"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="43.44ex" height="8.509ex" style="vertical-align:-3.671ex" viewBox="0 -2083 18703.2 3663.7" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title"><title id="MathJax-SVG-1-Title">upper F Subscript n Baseline left-parenthesis x right-parenthesis equals StartLayout Enlarged left-brace 1st Row 1st Column 0 2nd Column if n equals 0 2nd Row 1st Column 1 2nd Column if n equals 1 3rd Row 1st Column x dot upper F Subscript n minus 1 Baseline left-parenthesis x right-parenthesis plus upper F Subscript n minus 2 Baseline left-parenthesis x right-parenthesis 2nd Column if n greater-than-or-equal-to 2 EndLayout</title><defs aria-hidden="true"></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true"><g transform="translate(3853,0)"><g transform="translate(0,1975)"></g><g transform="translate(1056,0)"><g transform="translate(-11,0)"><g transform="translate(0,-1225)"><g transform="translate(1295,0)"><g transform="translate(643,-150)"></g></g><g transform="translate(5942,0)"><g transform="translate(643,-150)"></g></g></g></g><g transform="translate(10355,0)"><g transform="translate(0,1175)"></g><g transform="translate(0,-25)"></g><g transform="translate(0,-1225)"></g></g></g></g></g></svg></div><p>Alternatively, if <code>F(n,k)</code> is the coefficient of <code>x^k</code> in <code>F_n(x)</code>, then</p><div class="equation" align="center" data-raw-text="F_n(x) = \sum_{k = 0}^n F(n,k) x^k" data-equation="eq:fibonacci_polynomial_combinatoric"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.301ex" height="7.009ex" style="vertical-align:-3.171ex" viewBox="0 -1652.5 9601.8 3017.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title"><title id="MathJax-SVG-1-Title">upper F Subscript n Baseline left-parenthesis x right-parenthesis equals sigma-summation Underscript k equals 0 Overscript n Endscripts upper F left-parenthesis n comma k right-parenthesis x Superscript k</title><defs aria-hidden="true"></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true"><g transform="translate(3853,0)"><g transform="translate(85,-1110)"></g></g><g transform="translate(8560,0)"></g></g></svg></div><p>where</p><div class="equation" align="center" data-raw-text="F(n,k) = {{\frac{n+k-1}{2}} \choose {k}}" data-equation="eq:fibonacci_polynomial_coefficients"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.767ex" height="6.843ex" style="vertical-align:-2.505ex" viewBox="0 -1867.7 8511 2946.1" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title"><title id="MathJax-SVG-1-Title">upper F left-parenthesis n comma k right-parenthesis equals StartBinomialOrMatrix StartFraction n plus k minus 1 Over 2 EndFraction Choose k EndBinomialOrMatrix</title><defs aria-hidden="true"></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true"><g transform="translate(4429,0)"><g transform="translate(736,0)"><g transform="translate(0,761)"><g transform="translate(120,0)"><g transform="translate(60,503)"></g></g></g></g></g></g></svg></div><p>We can extend <a href="https://en.wikipedia.org/wiki/Fibonacci_polynomials">Fibonacci polynomials</a> to negative <code>n</code> using the identity</p><div class="equation" align="center" data-raw-text="F_{-n}(x) = (-1)^{n-1} F_n(x)" data-equation="eq:negafibonacci_polynomial"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.18ex" height="3.176ex" style="vertical-align:-.838ex" viewBox="0 -1006.6 10410.8 1367.4" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title"><title id="MathJax-SVG-1-Title">upper F Subscript negative n Baseline left-parenthesis x right-parenthesis equals left-parenthesis negative 1 right-parenthesis Superscript n minus 1 Baseline upper F Subscript n Baseline left-parenthesis x right-parenthesis</title><defs aria-hidden="true"></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true"><g transform="translate(643,-150)"></g><g transform="translate(6072,0)"><g transform="translate(389,412)"></g></g><g transform="translate(7891,0)"></g></g></svg></div></section><section class="usage"><h2 id="usage">Usage</h2><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> fibpoly = <span class="hljs-built_in">require</span>( <span class="hljs-string">'@stdlib/math/base/tools/fibpoly'</span> );
</code></pre><h4 id="fibpoly-n-x-">fibpoly( n, x )</h4><p>Evaluates a <a href="https://en.wikipedia.org/wiki/Fibonacci_polynomials">Fibonacci polynomial</a> at a value <code>x</code>.</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> v = fibpoly( <span class="hljs-number">5</span>, <span class="hljs-number">2.0</span> ); <span class="hljs-comment">// => 2^4 + 3*2^2 + 1</span>
<span class="hljs-comment">// returns 29.0</span>
</code></pre><h4 id="fibpolyfactory-n-">fibpoly.factory( n )</h4><p>Uses code generation to generate a <code>function</code> for evaluating a <a href="https://en.wikipedia.org/wiki/Fibonacci_polynomials">Fibonacci polynomial</a>.</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> polyval = fibpoly.factory( <span class="hljs-number">5</span> );

<span class="hljs-keyword">var</span> v = polyval( <span class="hljs-number">1.0</span> ); <span class="hljs-comment">// => 1^4 + 3*1^2 + 1</span>
<span class="hljs-comment">// returns 5.0</span>

v = polyval( <span class="hljs-number">2.0</span> ); <span class="hljs-comment">// => 2^4 + 3*2^2 + 1</span>
<span class="hljs-comment">// returns 29.0</span>
</code></pre></section><section class="notes"><h2 id="notes">Notes</h2><ul><li>For hot code paths, a compiled function will be more performant than <code>fibpoly()</code>.</li><li>While code generation can boost performance, its use may be problematic in browser contexts enforcing a strict <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">content security policy</a> (CSP). If running in or targeting an environment with a CSP, avoid using code generation.</li></ul></section><section class="examples"><h2 id="examples">Examples</h2><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> fibpoly = <span class="hljs-built_in">require</span>( <span class="hljs-string">'@stdlib/math/base/tools/fibpoly'</span> );

<span class="hljs-keyword">var</span> i;

<span class="hljs-comment">// Compute the negaFibonacci and Fibonacci numbers...</span>
<span class="hljs-keyword">for</span> ( i = -<span class="hljs-number">77</span>; i &#x3C; <span class="hljs-number">78</span>; i++ ) {
    <span class="hljs-built_in">console</span>.log( <span class="hljs-string">'F_%d = %d'</span>, i, fibpoly( i, <span class="hljs-number">1.0</span> ) );
}
</code></pre></section><section class="related"><hr><h2 id="see-also">See Also</h2><ul><li><span class="package-name"><a href="/docs/api/latest/@stdlib/math/base/tools/evalpoly"><code>@stdlib/math/base/tools/evalpoly</code></a></span><span class="delimiter">: </span><span class="description">evaluate a polynomial.</span></li><li><span class="package-name"><a href="/docs/api/latest/@stdlib/math/base/tools/lucaspoly"><code>@stdlib/math/base/tools/lucaspoly</code></a></span><span class="delimiter">: </span><span class="description">evaluate a Lucas polynomial.</span></li></ul></section>