/**
* @license Apache-2.0
*
* Copyright (c) 2022 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

'use strict';

// MAIN //

/**
* Returns a cookie with a specified name.
*
* @private
* @param {string} cookie - string containing a list of cookies
* @param {string} name - cookie name
* @returns {(string|null)} cookie value (or null)
*/
function getCookie( cookie, name ) {
	var list;
	var tmp;
	var i;

	// Convert the list to an array of cookies:
	list = cookie.split( /;\s*/ ); // Note: RFC 6265 (https://datatracker.ietf.org/doc/html/rfc6265) mandates a single space after each semicolon; however, some user agents may not abide by this requirement

	// Search for a cookie having the specified name...
	for ( i = 0; i < list.length; i++ ) {
		// Each cookie is comprised of key=value pairs:
		tmp = list[ i ].split( '=' );

		// Note: we assume that `name` does not need to be decoded and we assume that keys and values are not surrounded by whitespace...
		if ( tmp[ 0 ] === name ) {
			return decodeURIComponent( tmp[ 1 ] );
		}
	}
	return null;
}


// EXPORTS //

module.exports = getCookie;
